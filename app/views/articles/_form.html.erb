

    <div class="row">
        <div class="form-group col-lg-4">
            <%= f.label :title %>
            <%= f.text_field :title, class: "form-control" %>
        </div>

        <div class="form-group col-lg-4">

              <%= f.label "Theme" %><br>
              <%= f.select(:theme_id, @themes.collect {|t| [t.name, t.id]}, {prompt: "Select a theme"}, {class: "form-control selectpicker" } ) %>

        </div>

        <% if @publish.present? %>
        <% @publish.tag_types.each do |tag| %>
          <div class="form-group col-lg-4">
            <strong><%= f.label tag.to_s.titleize %></strong><br />
            <% tag_sym = "#{tag.to_s.singularize}_list".to_sym %>
            <% tag_list = "#{tag.to_s.singularize}_list" %>
            <%= f.text_field tag_sym, value: @publish.send(tag_list).to_s, :placeholder => "Comma-separated list of #{tag.to_s}", class: 'form-control' %>
          </div>
        <% end %>
        <% else %>
        <div class="form-group col-lg-4">
            <%= f.label :tag_list %><br>
            <%= f.text_field :tag_list, class: 'form-control' %>
        </div>
        <% end %>
        <div class="col-lg-3"></div>
        <div class="form-group date col-lg-3">
          <%= f.label :date_writted %><br>
          <%= f.text_field :date_writted, class: 'form-control date', id: 'datepicker' %>
        </div>

        <div class="form-group date col-lg-3">
          <%= f.label :date_accepted %><br>
          <%= f.text_field :date_accepted, class: 'form-control date', id: 'datepicker2'  %>
        </div>

        <div class="col-lg-3"></div>
        <div class="clearfix"></div>
        <div class="form-group col-lg-12">
            <%= f.label :description %>
            <%= f.text_area :description, class: "form-control", rows: 2 %>
        </div>
        <div class="form-group col-lg-12">
            <%= f.label :abstract %>
            <%= f.text_area :abstract, class: "form-control", rows: 8 %>
        </div>
        <%= f.fields_for :contents do |c| %>
          <div class="form-group col-lg-12 ">
            <%= c.label :contents %>
            <%= c.file_field :file, multiple: true, name: 'contents[file][]', class: 'file', id: 'file-1' %>
          </div>
        <% end %>

        <div class='col-lg-12' id='input_fields_wrap'>
          <button id='add_field_button'>Add more videos</button>
          <%= f.fields_for :videos do |v| %>
            <div class='form-group'>
              <%= v.label :link %>
              <%= v.text_field :link, name: 'videos[link][]', class: 'form-control' %>
            </div>
          <% end %>
        </div>

        <div class="form-group col-lg-12 text-center">
            <%= f.submit "Save", class: "btn btn-default" %>
        </div>
      </div>

<script>
$(function() {
    $( "#datepicker" ).datepicker({
      dateFormat: "dd-mm-yy"
    });

    $( "#datepicker2" ).datepicker({
      dateFormat: "dd-mm-yy"
    });
  });
</script>

<script>
  var max_fields = 5;
  var wrapper = $("#input_fields_wrap");
  var add_button = $("#add_field_button");

  var x = 1;
  $(add_button).click(function(e){
    e.preventDefault();
    if(x < max_fields){
      x++;
      $(wrapper).append('<div class="form-group"><input type="text" class="form-control" name="videos[link][]"/><a href="#" id="remove_field">Remove</a></div>');
    }
  });

  $(wrapper).on("click","#remove_field", function(e){ //user click on remove text
      e.preventDefault(); $(this).parent('div').remove(); x--;
  })

  $('#file-1').fileinput({
    showUpload: false,
    showCaption: false,
    allowedFileExtensions: ['jpg', 'png', 'pdf'],

  });
</script>
